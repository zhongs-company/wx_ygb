/**
 * 格式化时间
 */
export var time = function(date) {
    var date = new Date(date);
    var h = date.getHours();
    var m = date.getMinutes()
    if (h < 10) {
        h = '0' + h;
    }
    if (m < 10) {
        m = '0' + m;
    }
    return h + ' : ' + m;
}

/**
 * 逗号分隔的字符串
 * '1,2,3'
 * 返回 [1,2,3]
 */
export var split = function (date) {
    return date.split(',').filter(function (item) {
        return item;
    }).map(function (item) {
        if (item.indexOf('/') === 0) {
            return item.substring(1, item.length);
        } else {
            return item;
        }
    });
}

/**
 *用来解析url参数
 *返回 key value 键值对对象
 */
export var parseQueryString = function (url) {
    var obj = {};
    var start = url.indexOf("?") + 1;
    var str = url.substr(start);
    var arr = str.split("&");
    for (var i = 0; i < arr.length; i++) {
        var arr2 = arr[i].split("=");
        obj[arr2[0]] = arr2[1];
    }
    return obj;
}

export var isType = function (type) {
    return function(obj) {
        return {}.toString.call(obj) == "[object " + type + "]"
    }
}
